<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>生鲜系统</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/public.css">
    <link rel="stylesheet" href="css/menu.css">
</head>
<body>
<div class="classify">
    <div class="head">
        <input type="text" placeholder="搜索菜品名称" disabled>
    </div>
    <div class="content">
        <ul class="fix-left">
            <li><p>新鲜蔬菜</p></li>
            <li class="active"><p>时令水果</p></li>
            <li><p>肉禽类</p></li>
            <li><p>方便速食</p></li>
        </ul>
        <div class="right">
            <div v-for="item in childrenList">
                <div class="title">{{item.name}}</div>
                <ul>
                    <li v-for="itm in item.children" @click="toList(itm.cat_id)">
                        <img :src="itm.image" alt="">
                        <p>{{item.name}}</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<ul class="footer">
    <li>
        <a href="index.html">
            <img src="images/tab1.png" alt="">
            <p>首页</p>
        </a>
    </li>
    <li>
        <a href="menu.html">
            <img src="images/tab21.png" alt="">
            <p class="active">全部菜品</p>
        </a>
    </li>
    <li>
        <a href="inventory.html">
            <img src="images/tab3.png" alt="">
            <p>常用清单</p>
        </a>
    </li>
    <li>
        <a href="shopCar.html">
            <img src="images/tab4.png" alt="">
            <p>购物车</p>
        </a>
    </li>
    <li>
        <a href="my.html">
            <img src="images/tab5.png" alt="">
            <p>我的</p>
        </a>
    </li>
</ul>

<script src="js/rem.js"></script>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/swiper-4.3.3.min.js"></script>
<script>

    var mySwiper = new Swiper('.swiper-container', {
        loop: true,
        autoplay: {
            delay: 2500,
            disableOnInteraction: false,
        },
        pagination: {
            el: '.swiper-pagination',
        },
    })

    /**
     * 倒计时
     * @param endTime 结束时间
     */
    function show_time(endTime) {
        var time_start = new Date(); //设定当前时间
        var e_time = endTime.replace(/-/g,"/");
        var time_end = new Date(e_time).getTime(); //设定目标时间

        // 计算时间差
        var time_distance = time_end - time_start;

        // 天
        var int_day = Math.floor(time_distance / 86400000)
        time_distance -= int_day * 86400000;

        // 时
        var int_hour = Math.floor(time_distance / 3600000)
        time_distance -= int_hour * 3600000;

        // 分
        var int_minute = Math.floor(time_distance / 60000);
        time_distance -= int_minute * 60000;

        // 秒
        var int_second = Math.floor(time_distance / 1000);

        // 时分秒为单数时、前面加零
        if (int_day < 10) {
            int_day = "0" + int_day;
        }

        if (int_hour < 10) {
            int_hour = "0" + int_hour;
        }

        if (int_minute < 10) {
            int_minute = "0" + int_minute;
        }

        if (int_second < 10) {
            int_second = "0" + int_second;
        }


        // 显示时间
        $("#countdown").html(int_day + '天' + int_hour + ':' + int_minute + ':' + int_second);

        // 设置定时器
        setTimeout("show_time('"+e_time+"')", 1000);
    }
    show_time('2020-07-09 12:00:00')

    //加
    $('.bottom .add').each(function (index, e) {
        $(e).click(function () {
            if ($(this).prev().val()) {
                $(this).prev().val(Number($(this).prev().val()) + 1)
            } else {
                $(this).prev().val(1)
                $(this).parent().addClass('isAdd')
            }
        })
    })
    //减
    $('.bottom .minus').each(function (index, e) {
        $(e).click(function () {
            if ($(this).next().val() != 1) {
                $(this).next().val(Number($(this).next().val()) - 1)
            } else {
                $(this).next().val('');
                $(this).parent().removeClass('isAdd')
            }
        })
    })
    //输入框
    $('.bottom .num').each(function (index, e) {
        $(e).bind('blur', function () {
            if ($(this).val() < 1) {
                $(this).val('');
                $(this).parent().removeClass('isAdd')
            }
        })
    })


    $('.ad_close').click(function () {
            $('.ad_mask').hide()

    })

</script>
</body>
</html>